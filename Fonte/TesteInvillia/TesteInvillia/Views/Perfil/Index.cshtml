<!-- Begin Page Content -->
<div class="container-fluid">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Perfil</h1>
    </div>

    <ul class="nav nav-pills mb-3" id="usuarioTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Configurações de perfil</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#trocarSenha" role="tab" aria-controls="contact" aria-selected="false">Trocar senha</a>
        </li>
    </ul>
    <div class="tab-content" id="usuarioTabContent">
        <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            <form asp-controller="Perfil" asp-action="Index" id="formPerfil" method="post" role="form">
                @{await Html.RenderPartialAsync("~/Views/Perfil/_Formulario.cshtml", new DTO.DTO.UsuarioDTO());}
            </form>
            <div class="form-group">
                <button class="btn btn-primary" type="button" onclick="Perfil.Salvar();">Salvar</button>
            </div>
        </div>
        <div class="tab-pane fade" id="trocarSenha" role="tabpanel" aria-labelledby="trocarSenha-tab">
            <form asp-controller="Perfil" asp-action="Index" id="formTrocarSenha" method="post" role="form">
                @{await Html.RenderPartialAsync("~/Views/Perfil/_FormularioTrocarSenha.cshtml", new TesteInvillia.Models.TrocarSenhaViewModel());}
            </form>
            <div class="form-group">
                <button class="btn btn-primary" type="button" onclick="TrocarSenha.Salvar();">Salvar</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    @{await Html.RenderPartialAsync("~/Views/Perfil/_PerfilScriptsPartial.cshtml");}
    @{await Html.RenderPartialAsync("~/Views/Perfil/_TrocarSenhaScriptsPartial.cshtml");}

    <script>
        $(document).ready(function () {
            Perfil.BuscarUsuarioAtual();
        });
    </script>
}